!function(n){var t={};function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:r})},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=1)}([function(n,t,e){"use strict";var r=function(n){var t=JSON.stringify(n,function(n,t){return"function"==typeof t?t.toString():t},2);return"\n>>> "+String(t).replace(/\n/g,"\n    ")};n.exports.isDefined=function(n){return void 0!==n},n.exports.isNull=function(n){return null===n},n.exports.isArray=function(n){return Array.isArray(n)},n.exports.isFunction=function(n){return"function"==typeof n},n.exports.isString=function(n){return"string"==typeof n},n.exports.isNumber=function(n){return"number"==typeof n},n.exports.isBoolean=function(n){return"boolean"==typeof n},n.exports.isObject=function(n){return!!n&&n.constructor===Object},n.exports.isNode=function(n){return!!(n&&n.tagName&&n.nodeName&&n.ownerDocument&&n.removeAttribute)},n.exports.isRegExp=function(n){return n instanceof RegExp},n.exports.isBrowser=function(){return"undefined"!=typeof window},n.exports.deepCopy=function(n){if(void 0!==n)return JSON.parse(JSON.stringify(n))},n.exports.assert=function(n,t){for(var e=arguments.length,o=Array(e>2?e-2:0),i=2;i<e;i++)o[i-2]=arguments[i];if(!n)throw new Error("@okwolo."+t+o.map(r).join(""))},n.exports.makeQueue=function(){var n=[],t=function(){var t=n[0];t&&t()};return{add:function(e){n.push(e),1===n.length&&t()},done:function(){n.shift(),t()}}}},function(n,t,e){"use strict";var r=e(2);n.exports=r({modules:[e(3),e(4),e(5),e(6),e(7),e(8),e(9),e(10)],options:{kit:"lite",browser:!0}})},function(n,t,e){"use strict";var r=e(0),o=r.assert,i=r.isArray,a=r.isBrowser,u=r.isDefined,s=r.isFunction,c=r.isObject,d=r.isString;n.exports=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.modules,e=void 0===t?[]:t,r=n.options,l=void 0===r?{}:r;o(i(e),"core : passed modules must be an array"),o(c(l),"core : passed options must be an object");var f=function(n,t){l.browser&&(u(t)||(o(a(),"app : must be run in a browser environment"),t=window));var r,f,b,p=function(){},v=function(){return p.apply(void 0,arguments)};return Object.assign(v,(r={},f={},{on:function(n,t){o(d(n),"on : handler type is not a string",n),o(s(t),"on : handler is not a function",t),u(r[n])||(r[n]=[]),r[n].push(t)},send:b=function(n){for(var t=arguments.length,e=Array(t>1?t-1:0),a=1;a<t;a++)e[a-1]=arguments[a];o(d(n),"send : event type is not a string",n);var u=r[n];if(i(u))for(var s=0;s<u.length;++s)u[s].apply(u,e)},use:function(n){for(var t=arguments.length,e=Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];if(d(n))b.apply(void 0,["blob."+n].concat(e));else{o(c(n),"use : blob is not an object",n);var i=n.name;if(u(i)){if(o(d(i),"utils.bus : blob name is not a string",i),u(f[i]))return;f[i]=!0}for(var a=Object.keys(n),s=0;s<a.length;++s){var l=a[s];b("blob."+l,n[l])}}}})),v.on("blob.api",function(n,t){o(c(n),"on.blob.api : additional api is not an object",n),Object.keys(n).forEach(function(e){t||o(!v[e],'on.blob.api : cannot add key "'+e+'" because it is already defined'),v[e]=n[e]})}),v.on("blob.primary",function(n){o(s(n),"on.blob.primary : primary is not a function",n),p=n}),e.forEach(function(n){n({on:v.on,send:v.send},t)}),u(n)&&v.use("target",n),v};return a()&&(f.kit=l.kit,f.version="3.0.0",u(window.okwolo)||(window.okwolo=f),window.okwolo[l.kit]=f),f}},function(n,t,e){"use strict";var r=e(0),o=r.assert,i=r.deepCopy,a=r.isFunction;n.exports=function(n){var t=n.on,e=n.send,r={},u=r,s=void 0;t("state",function(n){u=n}),t("blob.handler",function(n){o(a(n),"on.blob.handler : handler generator is not a function",n);var t=n(function(){return u});o(a(t),"on.blob.handler : handler from generator is not a function",t),s=t}),e("blob.handler",function(){return function(n){e("state",n)}});e("blob.api",{setState:function(n){var t=a(n)?n(i(u)):n;s(t)},getState:function(){return o(u!==r,"state.getState : cannot get state before it has been set"),i(u)}})}},function(n,t,e){"use strict";var r=e(0),o=r.assert,i=r.isDefined,a=r.isFunction;n.exports=function(n){var t=n.on,e=n.send,r=void 0,u=void 0,s=void 0,c=void 0,d=void 0,l=void 0,f=void 0;t("blob.target",function(n){r=n,e("update",!0)}),t("blob.builder",function(n){o(a(n),"on.blob.builder : builder is not a function",n),u=n,e("update",!1)}),t("blob.draw",function(n){o(a(n),"on.blob.draw : new draw is not a function",n),c=n,e("update",!0)}),t("blob.update",function(n){o(a(n),"on.blob.update : new target updater is not a function",n),d=n,e("update",!1)}),t("blob.build",function(n){o(a(n),"on.blob.build : new build is not a function",n),s=n,e("update",!1)}),t("state",function(n){o(i(n),"on.blob.state : new state is not defined",n),f=n,e("update",!1)});var b=!1,p=!1,v=null;t("update",function(n){if(!p){if(!(i(r)&&i(u)&&i(f)))return void(v||(v=setTimeout(function(){var n={builder:u,state:f,target:r};Object.keys(n).forEach(function(t){n[t]=n[t]?"ok":"waiting"}),o(p,"view : still waiting to draw after "+Math.round(3)+"s",n)},3e3)));p=!0}if(n||!b)return l=c(r,s(u(f))),void(b=!0);l=d(r,s(u(f)),[],l)}),t("sync",function(n,t){o(b,"view.sync : cannot sync component before app has drawn"),l=d(r,t,n,l)}),e("blob.api",{update:function(){return e("update",!1)}}),e("blob.primary",function(n){e("blob.builder",n())})}},function(n,t,e){"use strict";var r=function(){return function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function(n,t){var e=[],r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done)&&(e.push(a.value),!t||e.length!==t);r=!0);}catch(n){o=!0,i=n}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return e}(n,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var o=e(0),i=o.assert,a=o.isArray,u=o.isBoolean,s=o.isDefined,c=o.isFunction,d=o.isNull,l=o.isNumber,f=o.isObject,b=o.isString,p=function n(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.map(function(t){return b(t)?t:a(t)?n.apply(void 0,function(n){if(Array.isArray(n)){for(var t=0,e=Array(n.length);t<n.length;t++)e[t]=n[t];return e}return Array.from(n)}(t)):f(t)?n(Object.keys(t).map(function(n){return t[n]&&n})):void 0}).filter(Boolean).join(" ")};n.exports=function(n){var t=n.send;t("blob.build",function n(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=null;return{addKey:function(e){return n([{key:e}].concat(t))},addTag:function(e){if(0===t.length)return n([{tag:e}]);var r=t.slice();return r[0].tag=e,n(r)},f:function(){if(!d(e))return e;e="root";for(var n=t.length-1;n>=0;--n){e+=" -> ";var r=t[n],o=r.tag,i=r.key;b(o)?e+=o.replace(/\|\s*[^]*$/g,"| ..."):e+="{{"+i+"}}"}return e},keyList:function(){var n=[];if(t.length<2)return[];for(var e=t.length-2;e>=0;--e)n.push(String(t[e].key));return n}}}();if(u(e)&&(e=null),d(e))return{text:""};if(l(e)&&(e=String(e)),b(e))return{text:e};if(i(a(e),"view.build : vdom object is not a recognized type",o.f(),e),c(e[0])){var v=r(e,3),h=v[0],g=v[1],y=void 0===g?{}:g,m=v[2],w=void 0===m?[]:m;i(f(y),"view.build : component's props is not an object",o.f(),e,y),i(a(w),"view.build : component's children is not an array",o.f(),e,w);var O=void 0;return O=h(Object.assign({},y,{children:w}),function(){t("sync",o.keyList(),n(O.apply(void 0,arguments),o))}),n(O(),o)}var x=r(e,3),k=x[0],j=x[1],D=void 0===j?{}:j,M=x[2],N=void 0===M?[]:M;i(b(k),"view.build : tag property is not a string",o.f(),e,k),i(f(D),"view.build : attributes is not an object",o.f(),e,D),i(a(N),"view.build : children of vdom object is not an array",o.f(),e,N);var A=/^ *(\w+) *(?:#([-\w\d]+))? *((?:\.[-\w\d]+)*)? *(?:\|\s*([^\s]{1}[^]*?))? *$/.exec(k);i(a(A),"view.build : tag property cannot be parsed",o.f(),k);var S=r(A,5),E=S[1],C=S[2],F=S[3],T=S[4];s(C)&&!s(D.id)&&(D.id=C.trim()),(s(D.className)||s(F))&&(D.className=p(D.className,F).replace(/\./g," ").replace(/  +/g," ").trim()),s(T)&&(s(D.style)?(T=(T+";").replace(/;;$/g,";"),D.style=T+D.style):D.style=T),o=o.addTag(k);for(var $={},B=[],R=0;R<N.length;++R){var J=N[R],L=R,_=n(J,o.addKey(L));_.attributes&&"key"in _.attributes&&(L=_.attributes.key,i(l(L)||b(L),"view.build : invalid element key type",o.f(),L),i(String(L).match(/^[\w\d-_]+$/g),"view.build : invalid character in element key",o.f(),L)),L=String(L),i(!$[L],"view.build : duplicate child key",o.f(),L),B.push(L),$[L]=_}return{tagName:E,attributes:D,children:$,childOrder:B}})}},function(n,t,e){"use strict";var r=e(0),o=r.assert,i=r.isDefined,a=r.isFunction,u=r.isNode;n.exports=function(n,t){var e=n.send,r=function n(e){if(i(e.text))return e.DOM=t.document.createTextNode(e.text),e;var r=t.document.createElement(e.tagName);Object.assign(r,e.attributes);for(var o=0;o<e.childOrder.length;++o){var a=e.childOrder[o],u=n(e.children[a]).DOM;r.appendChild(u)}return e.DOM=r,e},s=function n(t,e,o,u){if(!i(t))return o.children[u]=r(e),void o.DOM.appendChild(o.children[u].DOM);if(!i(e))return o.DOM.removeChild(t.DOM),void delete o.children[u];if(t.tagName!==e.tagName){var s=t.DOM,c=r(e);return o.DOM.replaceChild(c.DOM,s),void Object.assign(t,{DOM:void 0,text:void 0,tagName:void 0,attributes:void 0,children:void 0,childOrder:void 0},c)}if(3!==t.DOM.nodeType){for(var d=function(n,t){for(var e=Object.keys(Object.assign({},n,t)),r=[],o=0;o<e.length;++o){var i=e[o],u=n[i],s=t[i];(a(u)||a(s))&&r.push(i),u!==s&&r.push(i)}return r}(t.attributes,e.attributes),l=0;l<d.length;++l){var f=d[l];t.attributes[f]=e.attributes[f],t.DOM[f]=e.attributes[f]}var b=t.childOrder.slice();t.childOrder=e.childOrder;for(var p=Object.keys(Object.assign({},t.children,e.children)),v=0;v<p.length;++v){var h=p[v];t.children[h]?e.children[h]||b.splice(b.indexOf(h),1):b.push(h),n(t.children[h],e.children[h],t,h)}if(b.length){for(var g=function(n,t){for(var e=t.length,r=e/2,o=0,i=0,a=0;a<e;++a){for(var u=n.indexOf(t[a]),s=Math.min(e-u,e-a),c=1,d=1;d<s&&t[a+d]===n[u+d];++d)c+=1;if(c>o&&(o=c,i=a),o>=r)break}return{start:i,end:i+o-1}}(b,e.childOrder),y=g.start,m=g.end,w=e.childOrder.slice(0,y),O=w.length-1;O>=0;--O){var x=w[O];t.DOM.insertBefore(t.children[x].DOM,t.DOM.firstChild)}for(var k=e.childOrder.slice(m+1,1/0),j=0;j<k.length;++j){var D=k[j];t.DOM.appendChild(t.children[D].DOM)}}}else t.text!==e.text&&(t.DOM.nodeValue=e.text,t.text=e.text)};e("blob.draw",function(n,e){return o(u(n),"view.dom.draw : target is not a DOM node",n),r(e),t.requestAnimationFrame(function(){n.innerHTML="",n.appendChild(e.DOM)}),e}),e("blob.update",function(n,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments[3];o(u(n),"view.dom.update : target is not a DOM node",n);for(var a={DOM:n,children:{root:i},childOrder:["root"]},c="root",d=i,l=0;l<r.length;++l)c=r[l],a=d,d=d.children[c];return t.requestAnimationFrame(function(){try{s(d,e,a,c)}catch(n){console.error("view.dom.update : "+n)}}),i})}},function(n,t,e){"use strict";var r=e(0),o=r.assert,i=r.isFunction,a=r.isObject,u=r.isString,s=r.makeQueue;n.exports=function(n,t){var e=n.on,r=n.send,c=null!==t.document.origin&&"null"!==t.document.origin,d="",l=void 0,f=void 0,b=void 0,p=!1,v=s(),h=function(){for(var n=arguments.length,t=Array(n),e=0;e<n;e++)t[e]=arguments[e];o(i(b),"router : fetch is not a function",b),b.apply(void 0,[l].concat(t))},g=function(n){var t=d.replace(/([^\w])/g,"\\$1");return n.replace(new RegExp("^"+t),"")||""},y=t.location.pathname;c||(y=""),t.onpopstate=function(){y=g(t.location.pathname),h(y)},e("blob.route",function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.path,e=n.handler;o(u(t),"on.blob.route : path is not a string",t),o(i(e),"on.blob.route : handler is not a function",t,e),o(i(f),"on.blob.route : register is not a function",f),l=f(l,t,e),p||(p=!!h(y))}),e("blob.base",function(n){o(u(n),"on.blob.base : base url is not a string",n),d=n,y=g(y),h(y)}),e("blob.register",function(n){o(i(n),"on.blob.register : register is not a function",f),f=n}),e("blob.fetch",function(n){o(i(n),"on.blob.fetch : fetch is not a function",b),b=n}),e("redirect",function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(u(n),"on.redirect : path is not a string",n),o(a(e),"on.redirect : params is not an object",e),v.add(function(){y=n,c?t.history.pushState({},"",(d+y).replace(/^\/C\:/,"")):console.log("@okwolo : path changed to\n>>> "+y),h(y,e),v.done()})}),e("show",function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(u(n),"on.show : path is not a string",n),o(a(t),"on.show : params is not an object",t),v.add(function(){h(n,t),v.done()})}),r("blob.api",{redirect:function(n,t){return r("redirect",n,t)},show:function(n,t){return r("show",n,t)}})}},function(n,t,e){"use strict";n.exports=function(n){(0,n.send)("blob.fetch",function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=!1;return n.find(function(n){var o=n.pattern.exec(t);if(null!==o)return r=!0,o.shift(),n.keys.forEach(function(n,t){e[n.name]=o[t]}),n.handler(e),r}),r})}},function(n,t,e){"use strict";var r=/:\w+/g;n.exports=function(n){(0,n.send)("blob.register",function(){var n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],o=arguments[2],i=(e.match(r)||[]).map(function(n){return{name:n.replace(/^:/g,"")}}),a=void 0;return"**"===e?a=/.*/g:(n=e.replace(/([^\w:])/g,"\\$1").replace(r,"([^/]*)"),a=new RegExp("^"+n+"(:?\\?.*)?$")),t.push({keys:i,pattern:a,handler:o}),t})}},function(n,t,e){"use strict";var r=e(0).isFunction;n.exports=function(n){n.on;var t=n.send;t("blob.primary",function(n,e){r(n)?t("blob.builder",n()):t("blob.route",{path:n,handler:function(n){t("blob.builder",e(n))}})})}}]);